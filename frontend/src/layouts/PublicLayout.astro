---
/**
 * PublicLayout.astro — Layout base con navbar pegajosa
 */
interface Props {
  title?: string;
  description?: string;
}

const {
  title       = 'LBOT — Bot de Farmeo para Digimon Masters Online',
  description = 'Automatiza el farmeo de Teras en DMO con LBOT. Desde $2/mes.',
} = Astro.props;
---
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  </head>
  <body class="bg-gray-950 text-white font-sans antialiased">

    <!-- Navbar -->
    <nav class="fixed top-0 inset-x-0 z-50 bg-gray-950/90 backdrop-blur-md border-b border-gray-800/50">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between">
        <a href="/" class="text-xl font-bold text-white">
          L<span class="text-brand-500">BOT</span>
        </a>

        <!-- Desktop links -->
        <div class="hidden md:flex items-center gap-8 text-sm text-gray-400">
          <a href="#plans" class="hover:text-white transition">Planes</a>
          <a href="#faq"   class="hover:text-white transition">FAQ</a>
          <a href="#auth"  class="hover:text-white transition">Login</a>
        </div>

        <div class="flex items-center gap-3">
          <a href="#auth"
             class="px-4 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg text-sm font-semibold transition">
            Empezar →
          </a>
          <!-- Hamburger — solo mobile -->
          <button id="nav-toggle" aria-label="Menu"
            class="md:hidden flex flex-col justify-center items-center w-9 h-9 gap-1.5 rounded-lg hover:bg-gray-800 transition">
            <span class="block w-5 h-0.5 bg-gray-300 transition-all duration-300" id="bar1"></span>
            <span class="block w-5 h-0.5 bg-gray-300 transition-all duration-300" id="bar2"></span>
            <span class="block w-5 h-0.5 bg-gray-300 transition-all duration-300" id="bar3"></span>
          </button>
        </div>
      </div>

      <!-- Mobile dropdown -->
      <div id="nav-mobile" class="hidden md:hidden border-t border-gray-800 bg-gray-950 px-4 py-4 space-y-1">
        <a href="#plans" class="block px-4 py-3 rounded-xl text-gray-300 hover:text-white hover:bg-gray-800 transition text-sm font-medium" onclick="closeNav()">Planes</a>
        <a href="#faq"   class="block px-4 py-3 rounded-xl text-gray-300 hover:text-white hover:bg-gray-800 transition text-sm font-medium" onclick="closeNav()">FAQ</a>
        <a href="#auth"  class="block px-4 py-3 rounded-xl text-gray-300 hover:text-white hover:bg-gray-800 transition text-sm font-medium" onclick="closeNav()">Login</a>
      </div>
    </nav>

    <!-- Offset para la navbar fija -->
    <div class="pt-16">
      <slot />
    </div>

    <!-- Footer -->
    <footer class="border-t border-gray-800 py-10 px-4 text-center text-sm text-gray-600">
      <p class="mb-1 font-medium text-gray-500">LBOT</p>
      <p>Bot de farmeo para Digimon Masters Online &middot; Demo t&eacute;cnica &middot; &copy; 2026</p>
    </footer>

    <script is:inline>
      var navToggle = document.getElementById('nav-toggle');
      var navMobile = document.getElementById('nav-mobile');
      var bar1 = document.getElementById('bar1');
      var bar2 = document.getElementById('bar2');
      var bar3 = document.getElementById('bar3');
      var open = false;

      function closeNav() {
        open = false;
        navMobile.classList.add('hidden');
        bar1.style.transform = '';
        bar2.style.opacity = '1';
        bar3.style.transform = '';
      }

      navToggle.addEventListener('click', function() {
        open = !open;
        if (open) {
          navMobile.classList.remove('hidden');
          bar1.style.transform = 'translateY(8px) rotate(45deg)';
          bar2.style.opacity = '0';
          bar3.style.transform = 'translateY(-8px) rotate(-45deg)';
        } else {
          closeNav();
        }
      });
    </script>

  </body>
</html>
